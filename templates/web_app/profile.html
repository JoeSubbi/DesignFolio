{% extends 'web_app/base.html' %}
{% load staticfiles %}

{% block title_block %}
	Users
{% endblock %}	


{% block body_block %}

	<!-- *** PROFILE *** -->

	<!-- Username-->
	<h3> {{profile.user.username}} </h3>

	<!-- Profile Picture:-->
	<img src="{{ MEDIA_URL }}{{user.picture}}" alt="profile_picture." />

	<!-- Location-->
	<div>
		Location: {{profile.location}}
	</div>

	<!-- Bio-->
	<div>
		Bio: {{profile.bio}}
	</div>

	<!-- Available-->
	 
	<div>

		{{available}} <br> <!-- add checkmark -->
		{% if profile.available %} <!-- check user profile available boolean field -->
			{% if user.is_authenticated %} <!-- check the user is logged in to view email -->
				{{email}}
			{% else %}
				Log in to get contact details
			{% endif %}
		{% endif %}
		
	</div>
			
	<!-- Links -->
			
		{% for site, link in links.items %}
			<li><a href="{{link}}">{{site}}</a></li>
		{% endfor %}
			
	<!-- Portfolio Title -->
	<hr>
	<h2> P O R T F O L I O </h2>
	<div>
		{% if owner %}
			<!-- if user is on their own profile page -->
			<li><a href="{% url 'design-grid:add_post' %}">Create Post</a></li>
			<li><a href="{% url 'design-grid:add_section' %}">Add Section</a></li>
		{% endif %}
	</div>


	<!-- *** SECTIONS AND POSTS *** -->
	<hr>

	<div>
		<!-- loop through dictionary of key section and value posts in that section-->
		{% for section, posts in sections.items %}
			<!-- output section name -->
			{{section}} <br>
			{% for post in posts %} <!-- loop through posts in this section -->
				<!-- post attrbutes -->
				<pre>
				<img src="{{ MEDIA_URL }}{{post.picture}}" alt="post_image." />
				Title:{{post.title}} <br>
				Description: {{post.description}} <br>
				Likes: {{post.likes}}
				</pre>
			{% endfor %}
		{% endfor %}
	</div>

{% endblock %}